# PowerDNS Authoritative Server Configuration
# Managed by Ansible - Do not edit manually

#################################
# launch        Which backends to launch
#
launch=gpgsql

#################################
# gpgsql-host   PostgreSQL server IP/hostname
#
gpgsql-host=localhost

#################################
# gpgsql-port   PostgreSQL server port
#
gpgsql-port=5432

#################################
# gpgsql-dbname Database name
#
gpgsql-dbname={{ postgres_db }}

#################################
# gpgsql-user   PostgreSQL username
#
gpgsql-user={{ postgres_user }}

#################################
# gpgsql-password       PostgreSQL password
#
gpgsql-password={{ postgres_password }}

#################################
# gpgsql-dnssec Enable DNSSEC processing for this backend
#
gpgsql-dnssec=yes

#################################
# local-address IP addresses to bind to (IPv6 first for preference)
#
local-address=::,0.0.0.0

#################################
# local-port    The port on which we listen
#
local-port=53

#################################
# master        Act as a master
# TODO: For future migration to PowerDNS primary, change to: master=yes
#
master=no

#################################
# slave Act as a slave
# TODO: For future migration to PowerDNS primary, change to: slave=no
#
slave=yes

#################################
# slave-cycle-interval  Schedule slave freshness checks once every .. seconds
#
slave-cycle-interval=60

#################################
# version-string        PowerDNS version in packets - full, anonymous, powerdns or custom
#
version-string=powerdns

#################################
# webserver     Start a webserver for monitoring
#
webserver=yes

#################################
# webserver-address     IP Address of webserver to listen on
#
webserver-address=0.0.0.0

#################################
# webserver-allow-from  Webserver access is only allowed from these subnets
#
webserver-allow-from=10.250.0.0/24,127.0.0.1,::1

#################################
# webserver-port        Port of webserver to listen on
#
webserver-port=8081

#################################
# api   Enable/disable the REST API
#
api=yes

#################################
# api-key       Static pre-shared authentication key for access to the REST API
#
api-key={{ pdns_api_key }}

#################################
# security-poll-suffix Suffix for security polling
#
security-poll-suffix=

#################################
# setgid        If set, change group id to this gid for more security
#
setgid=pdns

#################################
# setuid        If set, change user id to this uid for more security
#
setuid=pdns

#################################
# log-dns-details       If PDNS should log DNS non-erroneous details
#
log-dns-details=no

#################################
# log-dns-queries       If PDNS should log all incoming DNS queries
#
log-dns-queries=no

#################################
# logging-facility      Facility to log messages as
#
logging-facility=0

#################################
# loglevel      Amount of logging. Higher is more.
#
loglevel=4

