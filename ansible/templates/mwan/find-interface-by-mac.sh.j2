#!/bin/bash
# Find network interface by MAC address
# Usage: find-interface-by-mac.sh <mac_address>
set -o pipefail

MAC="$1"
if [ -z "$MAC" ]; then
    echo "Usage: $0 <mac_address>" >&2
    exit 1
fi

for iface in /sys/class/net/*; do
    if [ -f "$iface/address" ] &&
       [ "$(cat "$iface/address")" = "$MAC" ]; then
        basename "$iface"
        exit 0
    fi
done

exit 1
