---
# PowerDNS Server Configuration Variables
#
# MIGRATION PLAN:
# Currently: PowerDNS = SLAVE, BIND = PRIMARY
# Future: PowerDNS = PRIMARY, BIND = SECONDARY (deprecated)
#
# To migrate:
# 1. Set powerdns_role: "primary" (currently "slave")
# 2. Update BIND to be secondary of PowerDNS
# 3. Change zone type in PowerDNS from SLAVE to NATIVE
# 4. Update pdns.conf.j2: master=yes, slave=no
# 5. Update update-policy grants to use PowerDNS as target

# Container hostname
powerdns_hostname: pdns.home.goodkind.io

# PowerDNS role: "slave" (current) or "primary" (future migration)
powerdns_role: "slave"

# Server details
powerdns_servers:
  - pdns.home.goodkind.io

# Network configuration
powerdns_ipv4: 10.250.0.11
powerdns_ipv6: 3d06:bad:b01::b

# Stable MAC address for DHCP reservations (KEA: hostname "pdns")
# IPv4 reservation: 10.250.0.11 -> BC:24:11:30:4F:D2
powerdns_mac_address: "bc:24:11:30:4f:d2"

# BIND9 Primary server (will become secondary in future migration)
bind_primary_server: ns.home.goodkind.io
bind_primary_ip: 10.250.0.6
bind_primary_ipv6: 3d06:bad:b01::6

# Zone configuration
managed_zones:
  - home.goodkind.io

# PostgreSQL configuration
postgres_db: powerdns
postgres_user: pdns
# postgres_password stored in vault

# TSIG configuration
tsig_key_name: powerdns-xfr
tsig_algorithm: hmac-sha256
# tsig_secret stored in vault

# API configuration
# pdns_api_key stored in vault
