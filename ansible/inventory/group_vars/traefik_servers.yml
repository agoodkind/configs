---
# Traefik Configuration Variables
# Override these in your own environment or use ansible-vault for sensitive values

# Domain configuration
# ingress_domain: client-facing URLs in Traefik route rules (what users access)
# upstream_domain: backend service URLs in loadBalancer targets (where services actually run)
traefik_ingress_domain: "home.goodkind.io"
traefik_upstream_domain: "home.goodkind.io"

# ACME/Let's Encrypt configuration
traefik_acme_email: "alex@goodkind.io"

# DNS Challenge Configuration
# For RFC2136 (BIND/nsupdate with TSIG):
# Set RFC2136_* environment variables in Semaphore
rfc2136_nameserver: "{{ lookup('env', 'RFC2136_NAMESERVER', default='[3d06:bad:b01::6]:53') }}"
rfc2136_tsig_algorithm: "{{ lookup('env', 'RFC2136_TSIG_ALGORITHM', default='hmac-sha256.') }}"
rfc2136_tsig_key: "{{ lookup('env', 'RFC2136_TSIG_KEY', default='') }}"
rfc2136_tsig_secret: "{{ lookup('env', 'RFC2136_TSIG_SECRET', default='') }}"

# Cloudflare API token (legacy, not used with RFC2136)
cloudflare_api_token: "{{ lookup('env', 'CLOUDFLARE_API_KEY', default='') }}"

# Traefik Dashboard Authentication
# Set TRAEFIK_DASHBOARD_USER and TRAEFIK_DASHBOARD_PASS environment variables
traefik_dashboard_user: "{{ lookup('env', 'TRAEFIK_DASHBOARD_USER', default='') }}"
traefik_dashboard_pass: "{{ lookup('env', 'TRAEFIK_DASHBOARD_PASS', default='') }}"

# Cloudflare IP ranges for trusted proxies (X-Forwarded-For)
# Fetched dynamically in the playbook from Cloudflare's official IP list
# https://www.cloudflare.com/ips/

# Traefik version
traefik_version: "3.0.0"

# Directory configuration
traefik_user: traefik
traefik_group: traefik
traefik_config_dir: /etc/traefik
traefik_log_dir: /var/log/traefik
repo_root: /usr/share/configs
