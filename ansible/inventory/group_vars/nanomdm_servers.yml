---
# NanoMDM Container Configuration
# All service_* variables derive from service_mapping (single source of truth)

# Service identity
service_hostname: "{{ service_mapping.nanomdm.hostname }}"

# Static addressing (pinned; independent of VMID)
# NanoMDM needs IPv4 for legacy device compatibility
service_ipv4_address: "{{ service_mapping.nanomdm.ipv4 }}/24"
service_ipv6_address: "{{ service_mapping.nanomdm.ipv6 }}/64"
service_mac_address: "bc:24:11:a0:67:03"

# NanoMDM version: "latest" or pin e.g. "0.5.0" (without v prefix)
nanomdm_version: "latest"

# NanoMDM runtime settings
nanomdm_user: nanomdm
nanomdm_group: nanomdm
nanomdm_install_dir: /usr/local/bin
nanomdm_config_dir: /etc/nanomdm
nanomdm_data_dir: /var/lib/nanomdm

# Listen address (NanoMDM default is :9000)
nanomdm_listen: ":9000"

# Public server URL (what devices connect to via Traefik/Cloudflare)
nanomdm_server_url: "https://mdm.goodkind.io"

# APNs push certificate topic (extracted from push cert subject UID)
nanomdm_apns_topic: "com.apple.mgmt.External.2ae84f39-156e-4e1a-bf4c-b14ed7e239f4"

# API key (reference vault secret)
nanomdm_api_key: "{{ vault_nanomdm_api_key }}"

# Push certificate content (reference vault secret)
nanomdm_push_pem: "{{ vault_nanomdm_push_pem }}"
