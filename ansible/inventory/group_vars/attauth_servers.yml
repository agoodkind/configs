---
# AT&T Authentication VM Configuration Variables

# VM hostname and management IP
attauth_hostname: attauth.home.goodkind.io
attauth_vmid: 133 # Update to actual VMID after VM creation
attauth_mgmt_ipv4: "10.250.0.{{ attauth_vmid }}/24"
attauth_mgmt_ipv6: "3d06:bad:b01::{{ '%x' | format(attauth_vmid) }}/64"
attauth_mgmt_gw: "10.250.0.1"
attauth_mgmt_gw6: "3d06:bad:b01::1"

# DNS configuration (IPv6 first)
attauth_dns_domain: "home.goodkind.io"
attauth_dns_servers: "3d06:bad:b01::6 10.250.0.6"

# Proxmox configuration
attauth_mgmt_bridge: vmbr0 # Management network for SSH
attauth_att_output_bridge: att # AT&T authenticated output to Proxmox

# X710 SR-IOV VF configuration
# PCI address of VF (e.g., 02:02.0) - must be created on Proxmox host first
# See mwan/README.md for VF setup instructions
pci_x710_vf: "02:02.0"

# Interface names INSIDE the VM (update after VM creation if different)
# Run: ssh root@attauth.home.goodkind.io "ip link show"
attauth_mgmt_iface: "eth0" # virtio on vmbr0 (management/SSH)
attauth_att_bridge_iface: "eth1" # virtio to Proxmox "att" bridge
attauth_vf_iface: "eth2" # X710 VF passthrough (iavf driver in guest)

# AT&T configuration
attauth_vlan_id: 3242
attauth_eap_identity: "D0:FC:D0:7C:85:30"
# Certificates must be manually uploaded to /etc/wpa_supplicant/ on attauth VM
# Extract from OPNsense:
#   scp agoodkind@router:/conf/opnatt/wpa/*.pem root@attauth.home.goodkind.io:/etc/wpa_supplicant/
#   ssh root@attauth.home.goodkind.io "chmod 600 /etc/wpa_supplicant/*.pem"

